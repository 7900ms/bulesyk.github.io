<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>多功能相册之瀑布布局</title>
	<link rel="stylesheet" href="../../tool/reset.css">
	<link rel="stylesheet" href="./style.css">
	<script src="../../tool/jquery-2.2.2.js"></script>
	<script src="../../tool/vue.js"></script>
</head>

<body>
	<article>
		<div class="container" id="imgs-wapper">
			<div class="columns" v-for="column in columns" v-bind:style="columnStyle"></div>
			<div id="display" class="clicked-img" v-show="display.clicked" v-bind:style="displayStyle" v-on:click="hide" transition="clicked-img">
				<img alt="img" v-bind:src="display.url">
			</div>
		</div>
		<button id="more">{{more.text}}</button>
		<script src="script.js"></script>
		<script>
			var vm = new Vue({
				el:'#more',
				data: {
					more:{
						text:"下拉加载更多"
					}
				},
				methods: {
					getMoreImgs:function(e){
						var ajax = new XMLHttpRequest()
						ajax.onreadystatechange = function(){
							console.log(ajax.readyState,ajax.states)
							if (ajax.readyState === 4 && ajax.states === 200) {
								console.log('asd')
							}
						}
						ajax.open("GET","http://7xs725.com1.z0.glb.clouddn.com/testimg/timg12.jpg")
						ajax.send()
					}
				}
			})
			$(document).ready(function(){
				$(this).on('mousewheel',function(){
					vm.getMoreImgs()
				})
			})
		</script>
	</article>
</body>

</html>